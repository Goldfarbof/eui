{"version":3,"sources":["../../../src/components/accordion/accordion.js"],"names":["KuiAccordion","props","state","isOpen","onToggleOpen","bind","currentState","height","childContent","clientHeight","setState","childWrapper","setAttribute","children","buttonContent","className","buttonClassName","buttonContentClassName","extraAction","rest","classes","buttonClasses","buttonContentClasses","icon","optionalAction","node","propTypes","string"],"mappings":";;;;;;;;;;;AAAA;;;;AAGA;;;;AACA;;;;AAEA;;;;;;;;;;;;IAOaA,Y,WAAAA,Y;;;AAMX,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA,4HACXA,KADW;;AAGjB,UAAKC,KAAL,GAAa;AACXC,cAAQ;AADG,KAAb;;AAIA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,OAApB;AAPiB;AAQlB;;;;mCAEc;AACb,UAAMC,eAAe,KAAKJ,KAAL,CAAWC,MAAhC;AACA,UAAMI,SAAS,KAAKC,YAAL,CAAkBC,YAAjC;AACA,WAAKC,QAAL,CAAc;AACZP,gBAAQ,CAACG;AADG,OAAd;;AAIA,UAAI,CAACA,YAAL,EAAmB;AACjB,aAAKK,YAAL,CAAkBC,YAAlB,CAA+B,OAA/B,eAAmDL,MAAnD;AACD,OAFD,MAEO;AACL,aAAKI,YAAL,CAAkBC,YAAlB,CAA+B,OAA/B;AACD;AACF;;;6BAEQ;AAAA;;AAAA,mBASH,KAAKX,KATF;AAAA,UAELY,QAFK,UAELA,QAFK;AAAA,UAGLC,aAHK,UAGLA,aAHK;AAAA,UAILC,SAJK,UAILA,SAJK;AAAA,UAKLC,eALK,UAKLA,eALK;AAAA,UAMLC,sBANK,UAMLA,sBANK;AAAA,UAOLC,WAPK,UAOLA,WAPK;AAAA,UAQFC,IARE;;AAWP,UAAMC,UAAU,0BACd,cADc,EAEd;AACE,+BAAuB,KAAKlB,KAAL,CAAWC;AADpC,OAFc,EAKdY,SALc,CAAhB;;AAQA,UAAMM,gBAAgB,0BACpB,sBADoB,EAEpBL,eAFoB,CAAtB;;AAKA,UAAMM,uBAAuB,0BAC3B,6BAD2B,EAE3BL,sBAF2B,CAA7B;;AAKA,UAAMM,OACJ,2CAAS,MAAM,KAAKrB,KAAL,CAAWC,MAAX,GAAoB,WAApB,GAAkC,YAAjD,EAA+D,MAAK,QAApE,GADF;;AAIA,UAAIqB,iBAAiB,IAArB;;AAEA,UAAIN,WAAJ,EAAiB;AACfM,yBACE;AAAA;AAAA,YAAa,MAAM,KAAnB;AACGN;AADH,SADF;AAKD;;AAED,aACE;AAAA;AAAA;AACE,qBAAWE;AADb,WAEMD,IAFN;AAIE;AAAA;AAAA,YAAc,YAAW,MAAzB,EAAgC,YAAW,QAA3C;AACE;AAAA;AAAA;AACE;AAAA;AAAA;AACE;AAAA;AAAA,kBAAK,SAAS,KAAKf,YAAnB,EAAiC,WAAWiB,aAA5C;AACE;AAAA;AAAA,oBAAc,YAAW,OAAzB,EAAiC,YAAW,QAA5C;AACE;AAAA;AAAA,sBAAa,MAAM,KAAnB;AACGE;AADH,mBADF;AAIE;AAAA;AAAA,sBAAa,WAAWD,oBAAxB;AACGR;AADH;AAJF;AADF;AADF;AADF,WADF;AAeGU;AAfH,SAJF;AAsBE;AAAA;AAAA,YAAK,WAAU,4BAAf,EAA6C,KAAK,mBAAQ;AAAE,qBAAKb,YAAL,GAAoBc,IAApB;AAA2B,aAAvF;AACE;AAAA;AAAA,cAAK,KAAK,mBAAQ;AAAE,uBAAKjB,YAAL,GAAoBiB,IAApB;AAA2B,eAA/C;AACGZ;AADH;AADF;AAtBF,OADF;AA8BD;;;;;;AAvGUb,Y,CACJ0B,S,GAAY;AACjBb,YAAU,oBAAUY,IADH;AAEjBV,aAAW,oBAAUY;AAFJ,C;;;AAyGrB3B,aAAa0B,SAAb,GAAyB;AACvBb,YAAU,oBAAUY,IADG;AAEvBV,aAAW,oBAAUY,MAFE;AAGvBV,0BAAwB,oBAAUU,MAHX;AAIvBb,iBAAe,oBAAUW,IAJF;AAKvBP,eAAa,oBAAUO;AALA,CAAzB","file":"accordion.js","sourcesContent":["import React, {\n  Component,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport {\n  KuiKeyboardAccessible,\n  KuiIcon,\n  KuiFlexGroup,\n  KuiFlexItem,\n} from '..';\n\nexport class KuiAccordion extends Component {\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpen: false,\n    };\n\n    this.onToggleOpen = this.onToggleOpen.bind(this);\n  }\n\n  onToggleOpen() {\n    const currentState = this.state.isOpen;\n    const height = this.childContent.clientHeight;\n    this.setState({\n      isOpen: !currentState,\n    });\n\n    if (!currentState) {\n      this.childWrapper.setAttribute('style', `height: ${height}px`);\n    } else {\n      this.childWrapper.setAttribute('style', `height: 0px`);\n    }\n  }\n\n  render() {\n    const {\n      children,\n      buttonContent,\n      className,\n      buttonClassName,\n      buttonContentClassName,\n      extraAction,\n      ...rest,\n    } = this.props;\n\n    const classes = classNames(\n      'kuiAccordion',\n      {\n        'kuiAccordion-isOpen': this.state.isOpen,\n      },\n      className\n    );\n\n    const buttonClasses = classNames(\n      'kuiAccordion__button',\n      buttonClassName,\n    );\n\n    const buttonContentClasses = classNames(\n      'kuiAccordion__buttonContent',\n      buttonContentClassName,\n    );\n\n    const icon = (\n      <KuiIcon type={this.state.isOpen ? 'arrowDown' : 'arrowRight'} size=\"medium\" />\n    );\n\n    let optionalAction = null;\n\n    if (extraAction) {\n      optionalAction = (\n        <KuiFlexItem grow={false}>\n          {extraAction}\n        </KuiFlexItem>\n      );\n    }\n\n    return (\n      <div\n        className={classes}\n        {...rest}\n      >\n        <KuiFlexGroup gutterSize=\"none\" alignItems=\"center\">\n          <KuiFlexItem>\n            <KuiKeyboardAccessible>\n              <div onClick={this.onToggleOpen} className={buttonClasses}>\n                <KuiFlexGroup gutterSize=\"small\" alignItems=\"center\">\n                  <KuiFlexItem grow={false}>\n                    {icon}\n                  </KuiFlexItem>\n                  <KuiFlexItem className={buttonContentClasses}>\n                    {buttonContent}\n                  </KuiFlexItem>\n                </KuiFlexGroup>\n              </div>\n            </KuiKeyboardAccessible>\n          </KuiFlexItem>\n          {optionalAction}\n        </KuiFlexGroup>\n\n        <div className=\"kuiAccordion__childWrapper\"  ref={node => { this.childWrapper = node; }}>\n          <div ref={node => { this.childContent = node; }}>\n            {children}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nKuiAccordion.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  buttonContentClassName: PropTypes.string,\n  buttonContent: PropTypes.node,\n  extraAction: PropTypes.node,\n};\n"]}