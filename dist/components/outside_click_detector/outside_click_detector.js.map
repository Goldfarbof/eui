{"version":3,"sources":["../../../src/components/outside_click_detector/outside_click_detector.js"],"names":["KuiOutsideClickDetector","onClickOutside","wrapperRef","event","target","contains","props","onOutsideClick","document","addEventListener","removeEventListener","Object","assign","children","ref","node","child","only","propTypes","isRequired","func"],"mappings":";;;;;;;;;AAAA;;AAKA;;;;;;;;;;;;IAEaA,uB,WAAAA,uB;;;;;;;;;;;;;;wNAMXC,c,GAAiB,iBAAS;AACxB,UAAI,CAAC,MAAKC,UAAV,EAAsB;AACpB;AACD;;AAED,UAAI,MAAKA,UAAL,KAAoBC,MAAMC,MAA9B,EAAsC;AACpC;AACD;;AAED,UAAI,MAAKF,UAAL,CAAgBG,QAAhB,CAAyBF,MAAMC,MAA/B,CAAJ,EAA4C;AAC1C;AACD;;AAED,YAAKE,KAAL,CAAWC,cAAX;AACD,K;;;;;wCAEmB;AAClBC,eAASC,gBAAT,CAA0B,OAA1B,EAAmC,KAAKR,cAAxC;AACD;;;2CAEsB;AACrBO,eAASE,mBAAT,CAA6B,OAA7B,EAAsC,KAAKT,cAA3C;AACD;;;6BAEQ;AAAA;;AACP,UAAMK,QAAQK,OAAOC,MAAP,CAAc,EAAd,EAAkB,KAAKN,KAAL,CAAWO,QAAX,CAAoBP,KAAtC,EAA6C;AACzDQ,aAAK,mBAAQ;AACX,iBAAKZ,UAAL,GAAkBa,IAAlB;AACA,cAAI,OAAKT,KAAL,CAAWO,QAAX,CAAoBC,GAAxB,EAA6B;AAC3B,mBAAKR,KAAL,CAAWO,QAAX,CAAoBC,GAApB,CAAwBC,IAAxB;AACD;AACF;AANwD,OAA7C,CAAd;;AASA,UAAMC,QAAQ,gBAASC,IAAT,CAAc,KAAKX,KAAL,CAAWO,QAAzB,CAAd;AACA,aAAO,yBAAaG,KAAb,EAAoBV,KAApB,CAAP;AACD;;;;;;AA1CUN,uB,CACJkB,S,GAAY;AACjBL,YAAU,oBAAUE,IAAV,CAAeI,UADR;AAEjBZ,kBAAgB,oBAAUa,IAAV,CAAeD;AAFd,C","file":"outside_click_detector.js","sourcesContent":["import {\n  Children,\n  cloneElement,\n  Component,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nexport class KuiOutsideClickDetector extends Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    onOutsideClick: PropTypes.func.isRequired,\n  }\n\n  onClickOutside = event => {\n    if (!this.wrapperRef) {\n      return;\n    }\n\n    if (this.wrapperRef === event.target) {\n      return;\n    }\n\n    if (this.wrapperRef.contains(event.target)) {\n      return;\n    }\n\n    this.props.onOutsideClick();\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.onClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onClickOutside);\n  }\n\n  render() {\n    const props = Object.assign({}, this.props.children.props, {\n      ref: node => {\n        this.wrapperRef = node;\n        if (this.props.children.ref) {\n          this.props.children.ref(node);\n        }\n      },\n    });\n\n    const child = Children.only(this.props.children);\n    return cloneElement(child, props);\n  }\n}\n"]}