{"version":3,"sources":["../../../../src/components/form/validatable_control/validatable_control.js"],"names":["KuiValidatableControl","props","isInvalid","control","setCustomValidity","updateValidity","children","ref","node","propTypes","bool"],"mappings":";;;;;;;;;AAAA;;AAIA;;;;;;;;;;;;IAEaA,qB,WAAAA,qB;;;;;;;;;;;qCAMM;AACf,UAAI,KAAKC,KAAL,CAAWC,SAAf,EAA0B;AACxB,aAAKC,OAAL,CAAaC,iBAAb,CAA+B,SAA/B;AACD,OAFD,MAEO;AACL,aAAKD,OAAL,CAAaC,iBAAb,CAA+B,EAA/B;AACD;AACF;;;wCAEmB;AAClB,WAAKC,cAAL;AACD;;;yCAEoB;AACnB,WAAKA,cAAL;AACD;;;6BAEQ;AAAA;;AACP,aAAO,yBAAa,KAAKJ,KAAL,CAAWK,QAAxB,EAAkC;AACvCC,aAAK,mBAAQ;AACX,iBAAKJ,OAAL,GAAeK,IAAf;;AAEA;AAHW,cAIHD,GAJG,GAIK,OAAKN,KAAL,CAAWK,QAJhB,CAIHC,GAJG;;AAKX,cAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B;AAC7BA,gBAAIC,IAAJ;AACD;AACF;AATsC,OAAlC,CAAP;AAWD;;;;;;AAlCUR,qB,CACJS,S,GAAY;AACjBH,YAAU,oBAAUE,IADH;AAEjBN,aAAW,oBAAUQ;AAFJ,C","file":"validatable_control.js","sourcesContent":["import {\n  cloneElement,\n  Component,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nexport class KuiValidatableControl extends Component {\n  static propTypes = {\n    children: PropTypes.node,\n    isInvalid: PropTypes.bool,\n  }\n\n  updateValidity() {\n    if (this.props.isInvalid) {\n      this.control.setCustomValidity('Invalid');\n    } else {\n      this.control.setCustomValidity('');\n    }\n  }\n\n  componentDidMount() {\n    this.updateValidity();\n  }\n\n  componentDidUpdate() {\n    this.updateValidity();\n  }\n\n  render() {\n    return cloneElement(this.props.children, {\n      ref: node => {\n        this.control = node;\n\n        // Call the original ref, if any\n        const { ref } = this.props.children;\n        if (typeof ref === 'function') {\n          ref(node);\n        }\n      },\n    });\n  }\n}\n"]}